import{a as s,m as d}from"./apiRequests.6cdff860.js";/* empty css              */const m=async()=>{const l=new URLSearchParams(window.location.search).get("id");let c=await s(l),o=document.createElement("img");o.src=`data:image/gif;base64,${c.image}`;const n=document.querySelector("#image");let i=n.addEventListener("change",()=>{console.log(n.files);const e=document.querySelector("#preview");for(;e.firstChild;)e.removeChild(e.firstChild);let t=n.files[0],a=document.createElement("img");a.src=URL.createObjectURL(t),e.appendChild(a);let r=new FileReader;r.onloadend=()=>{console.log(r.result),i=r.result.replace("data:","").replace(/^.+,/,""),o.src=`data:image/gif;base64,${i}`},r.readAsDataURL(t)});console.log(o.src.replace("data:","").replace(/^.+,/,"")),document.querySelector("#description").textContent=c.description,document.querySelector("#shortDescription").placeholder=c.shortDescription,document.querySelector("#name").placeholder=c.name,document.querySelector("#preview").appendChild(o),document.querySelector("#modBtn").addEventListener("click",async()=>{let e="",t="";document.querySelector("#shortDescription").value===""?e=document.querySelector("#shortDescription").placeholder:e=document.querySelector("#shortDescription").value,document.querySelector("#name").value===""?t=document.querySelector("#name").placeholder:t=document.querySelector("#name").value;let a={description:document.querySelector("#description").value,shortDescription:e,name:t,image:o.src.replace("data:","").replace(/^.+,/,"")},r=await d(l,a);console.log(r),document.location.href=`../htmlPages/singleCharacter.html?id=${l}`})};m();
